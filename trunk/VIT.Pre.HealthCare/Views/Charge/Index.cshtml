@model VIT.Pre.HealthCare.Models.ChargeModel

@{
    ViewBag.Title = "Chăm sóc sức khỏe";
    Layout = "~/Views/Shared/_MainLayout.cshtml";
}

<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>

@using (Html.BeginForm()) {
    @Html.ValidationSummary(true)
    <fieldset class="patientinfo">
        <legend>Chi tiết bệnh</legend>
        
        <table>
            <tr>
                <td class="title">
                    @Html.LabelFor(model => model.Id):
                    @Html.HiddenFor(model => model.Id)
                </td>
                <td class="value">
                    @Html.DisplayFor(model => model.Id)
                </td>
            </tr>
            <tr>
                <td class="title">
                    @Html.LabelFor(model => model.PatientId):
                    @Html.HiddenFor(model => model.PatientId)
                </td>
                <td class="value">
                    @Html.DisplayFor(model => model.PatientId)
                </td>
            </tr>
            <tr>
                <td class="title">
                    @Html.LabelFor(model => model.PatientName):
                </td>
                <td class="value">
                    @Html.DisplayFor(model => model.PatientName)
                </td>
            </tr>
            <tr>
                <td class="title">
                    @Html.LabelFor(model => model.DateOnset):
                    @Html.ValidationMessageFor(model => model.DateOnset)
                </td>
                <td class="value">
                    @Html.EditorFor(model => model.DateOnset)
                </td>
            </tr>
            <tr>
                <td class="title">
                    @Html.LabelFor(model => model.DateService):
                    @Html.ValidationMessageFor(model => model.DateService)
                </td>
                <td class="value">
                    @Html.EditorFor(model => model.DateService)
                </td>
            </tr>
        </table>
   
        <table>
            <tr>
                <td class="title">
                    @Html.LabelFor(model => model.Diagnostic):
                    @Html.ValidationMessageFor(model => model.Diagnostic)
                </td>
                <td class="value">@Html.EditorFor(model => model.Diagnostic)</td>
            </tr>
            <tr>
                <td class="title">
                    @Html.LabelFor(model => model.ICDCode1):
                    @Html.ValidationMessageFor(model => model.ICDCode1)
                </td>
                <td class="value">@Html.DropDownListFor(model => model.ICDCode1, new SelectList(Model.ListIcds, "Code", "Description", Model.ListIcds.First().Code))</td>
            </tr>
            <tr>
                <td class="title">
                    @Html.LabelFor(model => model.ICDCode2):
                    @Html.ValidationMessageFor(model => model.ICDCode2)
                </td>
                <td class="value">@Html.DropDownListFor(model => model.ICDCode2, new SelectList(Model.ListIcds, "Code", "Description", Model.ListIcds.First().Code))</td>
            </tr>
            <tr>
                <td class="title">
                    @Html.LabelFor(model => model.ICDCode3):
                    @Html.ValidationMessageFor(model => model.ICDCode3)
                </td>
                <td class="value">@Html.DropDownListFor(model => model.ICDCode3, new SelectList(Model.ListIcds, "Code", "Description", Model.ListIcds.First().Code))</td>
            </tr>
            <tr>
                <td class="title">
                    @Html.LabelFor(model => model.ICDCode4):
                    @Html.ValidationMessageFor(model => model.ICDCode4)
                </td>
                <td class="value">@Html.DropDownListFor(model => model.ICDCode4, new SelectList(Model.ListIcds, "Code", "Description", Model.ListIcds.First().Code))</td>
            </tr>
        </table>
        
        <table>
            <tr>
                <td class="title">
                    @Html.LabelFor(model => model.Drugs):
                    @Html.ValidationMessageFor(model => model.Drugs)
                </td>
                <td class="value">@Html.EditorFor(model => model.Drugs)</td>
            </tr>
            <tr>
                <td class="title">
                    @Html.LabelFor(model => model.CPTCode):
                    @Html.ValidationMessageFor(model => model.CPTCode)
                </td>
                <td class="value">@Html.DropDownListFor(model => model.CPTCode, new SelectList(Model.ListCpts, "Code", "Description", Model.ListCpts.First().Code))</td>
            </tr>
            <tr>
                <td class="title">
                    @Html.LabelFor(model => model.Quality):
                    @Html.ValidationMessageFor(model => model.Quality)
                </td>
                <td class="value">@Html.EditorFor(model => model.Quality)</td>
            </tr>
            <tr>
                <td class="title">
                    @Html.LabelFor(model => model.DoctorId):
                    @Html.ValidationMessageFor(model => model.DoctorId)
                </td>
                <td class="value">@Html.DropDownListFor(model => model.DoctorId, new SelectList(Model.ListDoctors, "Id", "LastName", Model.ListDoctors.First().Id))</td>
            </tr>
            <tr>
                <td class="title">
                    @Html.LabelFor(model => model.Note):
                    @Html.ValidationMessageFor(model => model.Note)
                </td>
                <td class="value">@Html.EditorFor(model => model.Note)</td>
            </tr>
        </table>
        
        <input type="submit" value="Lưu" class="btnLogin save"/>
    </fieldset>
}

<fieldset class="patientlist">
    <legend>Danh sách bệnh nhân</legend>
    <table class="table" width="100%" border="0" cellspacing="0" cellpadding="0">
        <thead>
            <tr>
                <td>Mã</td>
                <td>Ngày khám</td>
                <td>Chuẩn đoán</td>
                <td>Điều trị</td>
                <td>Chi tiết</td>
                <td>Thuốc</td>
                <td style="width: 60px">Số lượng</td>
                <td style="width: 25px">Xóa</td>
            </tr>
        </thead>
        
        @foreach (var o in Model.ListCharges)
        {
            <tr>
                <td>@o.Id</td>
                <td>@o.DateService</td>
                <td>@o.Diagnostic</td>
                <td>@o.CPTCode</td>
                <td>@o.CPTDescription</td>
                <td>@o.Drugs</td>
                <td>
                    @o.Quality
                    <span style="display: none">@o.DateOnset</span>
                    <span style="display: none">@o.DoctorId</span>
                    <span style="display: none">@o.ICDCode1</span>
                    <span style="display: none">@o.ICDCode2</span>
                    <span style="display: none">@o.ICDCode3</span>
                    <span style="display: none">@o.ICDCode4</span>
                    <span style="display: none">@o.Note</span>
                </td>
                <td style="text-align: center"><a href="/Charge/Delete?id=@o.Id"><img src="../../Content/images/DeleteRed.png"/></a></td>
            </tr>
        }
    </table>
 </fieldset>


